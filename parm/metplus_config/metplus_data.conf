## This is a UNIX conf file that contains all information relating to
# the METplus configuration.  UNIX conf is used because of how easy it is
# to parse (even GrADS can do it).  The syntax:
#
#      [section]
#      var = value
#
# For generation of namelists for WRF, WPS and other Fortran programs,
# we use this syntax:
#
#     [section]
#     namelist.nlvar = value
#
# to set the value of namelist &namelist's nlvar variable.  Also, the
# special variable "namelist" lists additional conf sections to
# recurse into to get more namelist variables after the current conf
# section is parsed.  Any variable will only be set once: the first
# time it is seen.

## Sets basic configuration options used by all components.
#
# This section sets basic configuration options used by all components.  
# Several special variables in this section are set by the ProdConfig 
# object itself, which will overwrite them if they're set in this
# file:
# * YMDHM = analysis time (201304261830 = April 26, 2013, 18:30 UTC)
# * YMDH = analysis time excluding minute (2013042618)
# * YMD = analysis time, excluding hour and minute
# * year, YYYY = analysis time's year (ie.: 2013)
# * YY = last two digits of year
# * century, CC = first two digits of year
# * month, MM = analysis time's month (ie.: 04)
# * day, DD = analysis time's day (ie.: 26)
# * hour, cyc, HH = analysis time's hour (ie.: 18)
# * minute, min = analysis time's minute (ie.: 30)
#
# There may be additional variables depending on what subclass (if
# any) of the ProdConfig is used.  You must specify the mandatory EXPT
# value, which is the name of the experiment to run.

## Filename Templates
[filename_templates]
# We DO NOT want to interpret time info or expand{} these values.
# Use, getraw('filename_templates','GFS_FCST_FILE_TMPL') to get
# 'gfs_4_{init?fmt=%Y%m%d}_{init?fmt=%H}00_{lead?fmt=%HHH}.grb2'
GFS_FCST_FILE_TMPL = gfs_4_{init?fmt=%Y%m%d}_{init?fmt=%H}00_{lead?fmt=%HHH}.grb2
GFS_FCST_NC_FILE_TMPL = gfs_4_{init?fmt=%Y%m%d}_{init?fmt=%H}00_{lead?fmt=%HHH}.nc
GFS_ANLY_FILE_TMPL = gfs_4_{valid?fmt=%Y%m%d}_{valid?fmt=%H}00_000.grb2
GFS_ANLY_NC_FILE_TMPL = gfs_4_{valid?fmt=%Y%m%d}_{valid?fmt=%H}00_000.nc

PHPT_NATIVE_TEMPLATE= {valid?fmt=%Y%m%d}/{valid?fmt=%Y%m%d}_i{valid?fmt=%H}_f{lead?fmt=%HHH}_HRRRTLE_PHPT.grb2

HREF_MEAN_INPUT_TEMPLATE = {init?fmt=%Y%m%d}/hrefmean_{init?fmt=%Y%m%d%H}f{lead?fmt=%HHH}.grd
HREF_MEAN_NATIVE_TEMPLATE = {init?fmt=%Y%m%d}/hrefmean_{init?fmt=%Y%m%d%H}f{lead?fmt=%HHH}.nc
HREF_MEAN_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}/hrefmean_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc

HREF_PROB_TEMPLATE = hrefprob_{init?fmt=%Y%m%d%H}_f{lead?fmt=%HHH}.nc

PFF_TEMPLATE = ffair_pff1_valid{valid?fmt=%Y%m%d%H}00.nc

STAGE4_GRIB_INPUT_TEMPLATE = {valid?fmt=%Y%m%d}/ST4.{valid?fmt=%Y%m%d%H}.{accum?fmt=%HH}h
STAGE4_GRIB_NATIVE_TEMPLATE = {valid?fmt=%Y%m%d}/ST4.{valid?fmt=%Y%m%d%H}.{accum?fmt=%FF}h
STAGE4_GRIB_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}/ST4.{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}h
STAGE4_GRIB_REGRID_TEMPLATE = {valid?fmt=%Y%m%d}/ST4.{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}h

STAGE4_GEMPAK_INPUT_TEMPLATE = {valid?fmt=%Y%m%d}_st4.grd
STAGE4_GEMPAK_NATIVE_TEMPLATE = {valid?fmt=%Y%m%d}_st4.nc
STAGE4_GEMPAK_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}_st4_A{accum?fmt=%HH}.nc
STAGE4_GEMPAK_REGRID_TEMPLATE = {valid?fmt=%Y%m%d}_st4_A{accum?fmt=%HH}.nc

QPE_INPUT_TEMPLATE = {valid?fmt=%Y%m%d}/qpe_{valid?fmt=%Y%m%d%H}.grd
QPE_NATIVE_TEMPLATE = {valid?fmt=%Y%m%d}/qpe_{valid?fmt=%Y%m%d%H}.nc
QPE_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}/qpe_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc
QPE_REGRID_TEMPLATE = {valid?fmt=%Y%m%d}/qpe_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc

MRMS_QPE_INPUT_TEMPLATE = {valid?fmt=%Y%m%d}/mrms_qpe_{valid?fmt=%Y%m%d%H}.grd
MRMS_QPE_NATIVE_TEMPLATE = {valid?fmt=%Y%m%d}/mrms_qpe_{valid?fmt=%Y%m%d%H}.nc
MRMS_QPE_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}/mrms_qpe_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc
MRMS_QPE_REGRID_TEMPLATE = {valid?fmt=%Y%m%d}/mrms_qpe_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc

NATIONAL_BLEND_INPUT_TEMPLATE = {init?fmt=%Y%m%d}/blendp_qpf_{init?fmt=%Y%m%d%H}f{lead?fmt=%HHH}.nc
NATIONAL_BLEND_NATIVE_TEMPLATE = {init?fmt=%Y%m%d}/blendp_qpf_{init?fmt=%Y%m%d%H}f{lead?fmt=%HHH}.nc
NATIONAL_BLEND_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}/blendp_qpf_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc
NATIONAL_BLEND_REGRID_TEMPLATE = {valid?fmt=%Y%m%d}/blendp_qpf_{valid?fmt=%Y%m%d%H}_A{accum?fmt=%HH}.nc

WPCSNOW_GEMPAK_TEMPLATE = sfr_verif_{valid?fmt=%Y%m%d%H}.grd
WPCSNOW_NATIVE_TEMPLATE = sfr_verif_{valid?fmt=%Y%m%d%H}.nc
WPCSNOW_BUCKET_TEMPLATE = {valid?fmt=%Y%m%d}/sfr_verif_{valid?fmt=%Y%m%d%H}_{accum?fmt=%HH}h
WPCSNOW_REGRID_TEMPLATE = {valid?fmt=%Y%m%d}/sfr_verif_{valid?fmt=%Y%m%d%H}_{accum?fmt=%HH}h.nc


## Regex patterns
[regex_pattern]
# Regular expressions that are used in series analysis
# Forecast and Analysis tile files, and ASCII files
# created by the series analysis by init and lead time
FCST_TILE_PREFIX = FCST_TILE_F
ANLY_TILE_PREFIX = ANLY_TILE_F

FCST_TILE_REGEX = .*FCST_TILE_F.*.grb2
ANLY_TILE_REGEX = .*ANLY_TILE_F.*.grb2
FCST_NC_TILE_REGEX = .*FCST_TILE_F.*.nc
ANLY_NC_TILE_REGEX = .*ANLY_TILE_F.*.nc

ANLY_TILE_REGEX = .*ANLY_TILE_F.*.grb2

FCST_ASCII_REGEX_INIT = FCST_ASCII_FILE.*
ANLY_ASCII_REGEX_INIT = ANLY_ASCII_FILE.*
FCST_ASCII_REGEX_LEAD = FCST_FILE_F.*
