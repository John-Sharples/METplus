#
#  CONFIGURATION
#
[config]
# set looping method to processes-each 'task' in the process list runs to
# completion (for all init times) before the next 'task' is run
LOOP_ORDER = processes

# 'Tasks' to be run
PROCESS_LIST = TcPairs

LOOP_BY = INIT

# The init time begin and end times, increment, and last init hour.
INIT_TIME_FMT = %Y%m%d

INIT_BEG = 20170828

INIT_END = 20170828
# This is the step-size. Increment in seconds from the begin time to the end time
# 6 hours = 21600 seconds
INIT_INCREMENT = 21600

# A list of times to include, in format YYYYMMDD_hh
INIT_INCLUDE =

# A list of times to exclude, in format YYYYMMDD_hh
INIT_EXCLUDE =

# Configuration files
TC_PAIRS_CONFIG_FILE = {PARM_BASE}/use_cases/track_and_intensity/met_config/TCPairsETCConfig

#
# Specify model valid time window in format YYYYMM[DD[_hh]].  Only tracks that fall within the valid time window will
# be used.
#
VALID_BEG =
VALID_END =

#
# Run MET tc_pairs by indicating the top-level directories for the A-deck and B-deck files. Set to 'yes' to
# run using top-level directories, 'no' if you want to run tc_pairs on files paired by the wrapper.
# Set this to 'yes' until support for all track input directory and filenaming
# structures can be implemented.
TOP_LEVEL_DIRS = yes 

# TC PAIRS filtering options
# set TRACK_TYPE to extra_tropical_cyclone for non-ATCF formatted track files,
# empty or anything else for ATCF formatted track files.
TRACK_TYPE =

# Indicate the prefix to your ADeck and BDeck filenames
ADECK_FILE_PREFIX = a
BDECK_FILE_PREFIX = b

# Some non-ATCF formatted track files (SBU extra tropical cyclone data) may inconsistently set
# missing values to -99 rather than -9999.
MISSING_VAL_TO_REPLACE = -99
MISSING_VAL = -9999

# OVERWRITE OPTIONS
# Don't overwrite filter files if they already exist.
# Set to no if you do NOT want to override existing files
# Set to yes if you do want to override existing files
TRACK_DATA_MOD_FORCE_OVERWRITE = no
TC_PAIRS_FORCE_OVERWRITE = no

#
# MET TC-Pairs
#
# List of models to be used (comma separated) eg: DSHP, LGEM, HWRF
# If no models are listed, then process all models in the input file(s).
MODEL =

# List of storm ids of interest (comma separated) e.g.: AL112012, AL122012
# If no storm ids are listed, then process all storm ids in the input file(s).
STORM_ID =

# Basins (of origin/region).  Indicate with comma-separated list of regions, eg. AL: for North Atlantic,
# WP: Western North Pacific, CP: Central North Pacific, SH: Southern Hemisphere, IO: North Indian Ocean, LS: Southern
# Hemisphere
#BASIN = WP, AL
BASIN = WP

# Cyclone, a comma-separated list of cyclone numbers. If left empty, all cyclones will be used.
#CYCLONE = 01, 02, 03, 04, 05
CYCLONE = 17

# Storm name, a comma-separated list of storm names to evaluate.  If left empty, all storms will be used.
STORM_NAME =

# DLAND file, the full path of the file that contains the gridded representation of the
# minimum distance from land.
DLAND_FILE = {MET_INSTALL_DIR}/share/met/tc_data/dland_global_tenth_degree.nc


#
#  DIRECTORIES
#
[dir]
MET_BIN = {MET_INSTALL_DIR}/bin

# track data, set to your data source
ADECK_TRACK_DATA_DIR =  {INPUT_BASE}/cyclone_track_feature/atcf_track_data/aid
BDECK_TRACK_DATA_DIR =  {INPUT_BASE}/cyclone_track_feature/atcf_track_data/btk
TRACK_DATA_SUBDIR_MOD = {OUTPUT_BASE}/track_data_atcf
TC_PAIRS_DIR = {OUTPUT_BASE}/tc_pairs
TC_STAT_DIR = {OUTPUT_BASE}/tc_stat

#
#  FILENAME TEMPLATES
#
[filename_templates]
TC_PAIRS_ADECK_TEMPLATE = a{region?fmt=%s}{cyclone?fmt=%02d}{date?fmt=%Y}.dat
TC_PAIRS_BDECK_TEMPLATE = b{region?fmt=%s}{cyclone?fmt=%02d}{date?fmt=%Y}.dat
# Since track files do not adhere to any file naming conventions,
# define your subdirectories and filename templates here.  Provide
# the full filepath for ADeck and BDeck files.

#
# FORECAST track(s):
#
#
# To describe track data by full filepath.  This information is used
# to assist in the initial filtering of track data based on the initialization window
# (as specified by the INIT_BEG, INIT_END, INIT_HOUR_END, and INIT_INCREMENT).

# For date, specify %Y for year, %m for month, %d for day, and %h for
# hour.  For region and cyclone, specify format with %s.
# In this example, the a-deck file has the following format:
# atcfunix.gfso.2017071118.dat, where 2017 is the year, 07 is the month,
# 11 is the day and 18 is the hour.
# FORECAST_TMPL = /d1/METplus_TC/adeck/atcfunix.gfso.{date=%Y%m%d%h}.dat
FORECAST_TMPL = {INPUT_BASE}/cyclone_track_feature/atcf_track_data/aid/a{region?fmt=%s}{cyclone?fmt=%s}{date?fmt=%Y}.dat

# B-deck/best track/reference
# For date, specify %Y for year, %m for month, %d for day, and %h for
# hour.  For region and cyclone, specify format with %s.
# In this example, the filename has the format:
# bal112017.dat, where b indicates b-deck, al indicates the region/basin,
# 11 indicates the cyclone, and 2017 is the date (as year).
# REFERENCE_TMPL = /d1/METplus_TC/bdeck/b{region?fmt=%s}{cyclone?fmt=%s}{date=%Y}.dat
REFERENCE_TMPL = {INPUT_BASE}/cyclone_track_feature/atcf_track_data/btk/b{region?fmt=%s}{cyclone?fmt=%s}{date?fmt=%Y}.dat








